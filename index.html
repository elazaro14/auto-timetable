<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Timetable Generator</title>
</head>
<body>
    <h1>Auto Timetable Generator</h1>
    <script>
        function startGeneration() {
            const subjects = ["Mathematics", "English", "Science", "History", "Geography"];  // Add your subjects here
            const timetable = [];

            // Morning periods assigned to Mathematics first
            for (let i = 0; i < 4; i++) { // P1-P4 Morning
                timetable[i] = { subject: "Mathematics", period: `P${i + 1}` };
            }

            // Populate remaining periods
            for (let i = 4; i < 8; i++) { // P5-P8 Afternoon
                timetable[i] = { subject: subjects[(i - 4) % subjects.length], period: `P${i + 1}` };
            }

            // Ensure no class has a free period in the morning
            // This may require checking and redistributing lessons if necessary
            const morningSubjects = timetable.slice(0, 4).map(item => item.subject);
            const afternoonSubjects = timetable.slice(4, 8).map(item => item.subject);

            // Check if any morning subject is free and redistribute if needed
            morningSubjects.forEach((subject, index) => {
                if (!subject) {
                    for (let j = 0; j < afternoonSubjects.length; j++) {
                        if (afternoonSubjects[j]) {
                            timetable[index] = { subject: afternoonSubjects[j], period: `P${index + 1}` };
                            afternoonSubjects[j] = null; // Mark as reassigned
                            break;
                        }
                    }
                }
            });

            console.log(timetable);
        }
        startGeneration();
    </script>
</body>
</html>